# ===================================================================
# CLERK AUTHENTICATION ENVIRONMENT VARIABLES TEMPLATE
# ===================================================================
# Copy these lines to your .env.local file and replace with your actual keys
# This template includes all necessary Clerk environment variables for the foodosys app

# ===================================================================
# CORE CLERK API KEYS
# ===================================================================
# How to get these values:
# 1. Go to https://dashboard.clerk.com
# 2. Select your application (or create a new one)
# 3. Navigate to "API Keys" in the sidebar
# 4. Copy the Publishable Key and Secret Key from there

# Public key - safe to expose in the browser
# Used by Clerk.js to initialize the authentication client
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_YOUR_PUBLISHABLE_KEY_HERE

# Secret key - NEVER expose this in frontend code
# Used by backend to verify JWT tokens and authenticate API requests
CLERK_SECRET_KEY=sk_test_YOUR_SECRET_KEY_HERE

# ===================================================================
# WEBHOOK CONFIGURATION
# ===================================================================
# How to set up webhooks:
# 1. In Clerk Dashboard, go to "Webhooks" in the sidebar
# 2. Click "Add Endpoint"
# 3. Enter your webhook URL: https://your-domain.com/api/webhooks/clerk
#    - For local development: Use ngrok or similar tool to expose localhost
#    - Example: https://abc123.ngrok.io/api/webhooks/clerk
# 4. Select events to monitor (recommended):
#    - user.created (for creating user profiles in your database)
#    - user.updated (for syncing user data changes)
#    - user.deleted (for cleaning up user data)
# 5. Save and copy the "Signing Secret" (starts with whsec_)

# Webhook secret for verifying webhook signatures from Clerk
# Essential for security - ensures webhooks are actually from Clerk
CLERK_WEBHOOK_SECRET=whsec_REPLACE_WITH_ACTUAL_WEBHOOK_SECRET

# ===================================================================
# AUTHENTICATION FLOW URLS
# ===================================================================
# These URLs control the user authentication flow
# Customize these based on your app's routing structure

# Where users are redirected when they need to sign in
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in

# Where users are redirected when they need to sign up
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Where users are redirected after successful sign in
# Typically your app's home page or dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/

# Where users are redirected after successful sign up
# Usually an onboarding flow to collect additional user information
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding

# ===================================================================
# SUPABASE INTEGRATION
# ===================================================================
# For integrating Clerk authentication with Supabase Row Level Security (RLS)
# This allows you to secure your Supabase data using Clerk's authentication

# How to set up JWT template for Supabase:
# 1. In Clerk Dashboard, go to "JWT Templates" in the sidebar
# 2. Click "Add Template"
# 3. Template name: supabase
# 4. Template JSON:
#    {
#      "aud": "authenticated",
#      "role": "authenticated",
#      "allowed_roles": ["authenticated"],
#      "user_id": "{{user.id}}",
#      "email": "{{user.primary_email_address}}"
#    }
# 5. Save the template
# 6. In your Supabase project, go to Settings → API
# 7. Under "JWT Settings", set "JWT Secret" to your Clerk secret key
#    (you can get this from Clerk Dashboard → API Keys → JWT secret)

# Note: The JWT template is configured in Clerk Dashboard, not as an environment variable
# The template name "supabase" is referenced in your backend code when creating Supabase clients

# ===================================================================
# OPTIONAL CONFIGURATIONS
# ===================================================================
# Uncomment these if you need custom behavior

# Custom domain for Clerk authentication (if you have one)
# NEXT_PUBLIC_CLERK_DOMAIN=your-custom-domain.com

# Enable debug mode for development (shows detailed logs)
# NEXT_PUBLIC_CLERK_DEBUG=true

# Custom theme for Clerk components
# NEXT_PUBLIC_CLERK_APPEARANCE={"variables":{"colorPrimary":"#000000"}}

# ===================================================================
# SECURITY NOTES
# ===================================================================
# IMPORTANT SECURITY REMINDERS:
# 1. NEVER commit actual secrets to version control
# 2. Always use .env.local for development (not .env)
# 3. Use different keys for development and production
# 4. Regularly rotate your secrets for better security
# 5. In production, use a secure method to manage environment variables
#    (Vercel Environment Variables, AWS Secrets Manager, etc.)

# ===================================================================
# TESTING YOUR CONFIGURATION
# ===================================================================
# To verify your setup works correctly:
# 1. Test sign up flow at /sign-up
# 2. Test sign in flow at /sign-in
# 3. Check that user data appears in your database after registration
# 4. Test webhook delivery in Clerk Dashboard → Webhooks → Your endpoint
# 5. Verify Supabase RLS policies work with Clerk authentication
